//#TODO design the whole buffer class